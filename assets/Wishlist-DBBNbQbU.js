import{b as p,o as f,q as j,r as t,j as s,L as N,s as b}from"./index-Dp5V46W7.js";import{L as u,H as y,i as k}from"./Layout-Cj4HZ6Vy.js";import{P as w}from"./ProductCard-B4FwT9dD.js";import{B as v}from"./useAdmin-BxB2P_tw.js";import{L}from"./loader-circle-DIrpE8PJ.js";import"./dropdown-menu-Cc7uZZE_.js";import"./Combination-D7J0VMFL.js";import"./index-CU77mCJl.js";import"./index-BdQq_4o_.js";import"./plus-CAgRuiIJ.js";import"./trash-2-B4YhzpcP.js";import"./badge-BgO9vWjm.js";import"./star-D7hOOCw4.js";const I=()=>{const n=p(),{user:c,loading:a}=f(),{wishlistIds:i,loading:l}=j(),[r,m]=t.useState([]),[g,d]=t.useState(!0);return t.useEffect(()=>{!a&&!c&&n("/auth")},[c,a,n]),t.useEffect(()=>{l||(async()=>{if(i.length===0){m([]),d(!1);return}const{data:h,error:x}=await b.from("products").select("*").in("id",i);x?console.error("Error fetching wishlist products:",x):h&&m(h.map(e=>({id:e.id,name:e.name,category:e.category,pricePerDay:e.price_per_day,deposit:e.deposit,stock:e.stock,rating:Number(e.rating),images:e.images||["/placeholder.svg"],description:e.description||"",specifications:e.specifications||{},packageContents:e.package_contents||[],recommendations:e.recommendations||[],available:e.available}))),d(!1)})()},[i,l]),a||g?s.jsx(u,{children:s.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:s.jsx(L,{className:"h-8 w-8 animate-spin text-primary"})})}):s.jsxs(u,{children:[s.jsx("section",{className:"bg-gradient-to-br from-primary to-primary/80 py-12 md:py-16",children:s.jsxs("div",{className:"container mx-auto px-4 text-center",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Wishlist Saya"}),s.jsx("p",{className:"text-white/80 text-lg",children:"Produk yang kamu simpan untuk disewa nanti"})]})}),s.jsx("section",{className:"py-12",children:s.jsx("div",{className:"container mx-auto px-4",children:r.length===0?s.jsxs("div",{className:"text-center py-16",children:[s.jsx(y,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Wishlist Kosong"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Kamu belum menambahkan produk ke wishlist"}),s.jsx(v,{asChild:!0,children:s.jsxs(N,{to:"/katalog",children:[s.jsx(k,{className:"mr-2 h-4 w-4"}),"Jelajahi Katalog"]})})]}):s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-muted-foreground mb-6",children:[r.length," produk di wishlist"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(o=>s.jsx(w,{product:o},o.id))})]})})})]})};export{I as default};
