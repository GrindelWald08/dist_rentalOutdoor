import{a as J,b as Q,d as U,r as m,j as e,L as N,e as _}from"./index-Dp5V46W7.js";import{L as u,e as F,f as G}from"./Layout-Cj4HZ6Vy.js";import{B as r,S as V,C as W}from"./useAdmin-BxB2P_tw.js";import{B as v}from"./badge-BgO9vWjm.js";import{a as y,P as w,b as k,c as C,C as P}from"./popover-CBVDSgDv.js";import{S as i,C as X}from"./skeleton-C0mfDjvN.js";import{P as Y}from"./ProductCard-B4FwT9dD.js";import{d as Z,u as ee}from"./useData-BeZ53n_d.js";import{c as se,a as S,f as n}from"./api-9T2QbLlA.js";import{C as ae}from"./chevron-left-Df98c0fY.js";import{S as te}from"./star-D7hOOCw4.js";import{P as le}from"./plus-CAgRuiIJ.js";import{f as D,i as M}from"./id-8SRIAgvI.js";import"./dropdown-menu-Cc7uZZE_.js";import"./Combination-D7J0VMFL.js";import"./index-CU77mCJl.js";import"./index-BdQq_4o_.js";import"./trash-2-B4YhzpcP.js";import"./index-C1YjNfLO.js";const Ce=()=>{const{id:T}=J(),O=Q(),{addToCart:j}=U(),{data:a,isLoading:z}=Z(T||""),{data:A=[]}=ee(),[g,L]=m.useState(0),[l,p]=m.useState(1),[d,B]=m.useState(y(new Date,1)),[c,K]=m.useState(y(new Date,3)),[b,q]=m.useState([]);if(z)return e.jsxs(u,{children:[e.jsx("section",{className:"pt-24 pb-4 bg-muted/30",children:e.jsx("div",{className:"container",children:e.jsx(i,{className:"h-9 w-40"})})}),e.jsx("section",{className:"py-8 bg-muted/30",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[e.jsx(i,{className:"aspect-square rounded-2xl"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(i,{className:"h-8 w-32"}),e.jsx(i,{className:"h-10 w-3/4"}),e.jsx(i,{className:"h-8 w-40"}),e.jsx(i,{className:"h-24 w-full"})]})]})})})]});if(!a)return e.jsx(u,{children:e.jsxs("div",{className:"container py-32 text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Produk Tidak Ditemukan"}),e.jsx(r,{asChild:!0,children:e.jsx(N,{to:"/katalog",children:"Kembali ke Katalog"})})]})});const o=se(d??null,c??null),h=b.reduce((s,t)=>{const x=S.find(H=>H.id===t);return s+(x?x.pricePerDay*o:0)},0),E=a.pricePerDay*o*l+h,I=s=>{q(t=>t.includes(s)?t.filter(x=>x!==s):[...t,s])},R=()=>{j(a,l,d??null,c??null)},$=()=>{j(a,l,d??null,c??null),O("/checkout")},f=A.filter(s=>s.category===a.category&&s.id!==a.id).slice(0,4);return e.jsxs(u,{children:[e.jsx("section",{className:"pt-24 pb-4 bg-muted/30",children:e.jsx("div",{className:"container",children:e.jsx(r,{variant:"ghost",size:"sm",className:"gap-2",asChild:!0,children:e.jsxs(N,{to:"/katalog",children:[e.jsx(ae,{className:"w-4 h-4"}),"Kembali ke Katalog"]})})})}),e.jsx("section",{className:"py-8 bg-muted/30",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"aspect-square rounded-2xl overflow-hidden bg-card border border-border",children:e.jsx("img",{src:a.images[g],alt:a.name,className:"w-full h-full object-cover"})}),a.images.length>1&&e.jsx("div",{className:"flex gap-3",children:a.images.map((s,t)=>e.jsx("button",{onClick:()=>L(t),className:_("w-20 h-20 rounded-lg overflow-hidden border-2 transition-all",g===t?"border-accent":"border-border"),children:e.jsx("img",{src:s,alt:"",className:"w-full h-full object-cover"})},t))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx(v,{variant:"secondary",className:"mb-2",children:a.category.charAt(0).toUpperCase()+a.category.slice(1)}),e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:a.name})]}),e.jsxs("div",{className:"flex items-center gap-1 bg-muted px-3 py-1.5 rounded-full",children:[e.jsx(te,{className:"w-4 h-4 text-accent fill-accent"}),e.jsx("span",{className:"font-medium",children:a.rating})]})]}),e.jsxs("div",{className:"flex items-baseline gap-2 mb-6",children:[e.jsx("span",{className:"text-3xl font-bold text-accent",children:n(a.pricePerDay)}),e.jsx("span",{className:"text-muted-foreground",children:"/hari"})]}),e.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:a.description}),e.jsxs("div",{className:"bg-card rounded-xl border border-border p-6 mb-6",children:[e.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Pilih Tanggal Sewa"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground mb-2 block",children:"Mulai"}),e.jsxs(w,{children:[e.jsx(k,{asChild:!0,children:e.jsx(r,{variant:"outline",className:"w-full justify-start",children:d?D(d,"dd MMM yyyy",{locale:M}):"Pilih tanggal"})}),e.jsx(C,{className:"w-auto p-0",align:"start",children:e.jsx(P,{mode:"single",selected:d,onSelect:B,disabled:s=>s<new Date,className:"pointer-events-auto"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground mb-2 block",children:"Selesai"}),e.jsxs(w,{children:[e.jsx(k,{asChild:!0,children:e.jsx(r,{variant:"outline",className:"w-full justify-start",children:c?D(c,"dd MMM yyyy",{locale:M}):"Pilih tanggal"})}),e.jsx(C,{className:"w-auto p-0",align:"start",children:e.jsx(P,{mode:"single",selected:c,onSelect:K,disabled:s=>s<(d||new Date),className:"pointer-events-auto"})})]})]})]}),e.jsxs("p",{className:"text-sm text-accent mt-3 font-medium",children:["Durasi: ",o," hari"]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Tambahan (Opsional)"}),e.jsx("div",{className:"space-y-2",children:S.map(s=>e.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg border border-border hover:border-accent transition-colors cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(X,{checked:b.includes(s.id),onCheckedChange:()=>I(s.id)}),e.jsx("span",{className:"text-foreground",children:s.name})]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["+",n(s.pricePerDay),"/hari"]})]},s.id))})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("span",{className:"text-foreground font-medium",children:"Jumlah:"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(r,{variant:"outline",size:"icon",onClick:()=>p(Math.max(1,l-1)),children:e.jsx(F,{className:"w-4 h-4"})}),e.jsx("span",{className:"w-8 text-center font-semibold",children:l}),e.jsx(r,{variant:"outline",size:"icon",onClick:()=>p(l+1),disabled:l>=a.stock,children:e.jsx(le,{className:"w-4 h-4"})})]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["(Stok: ",a.stock,")"]})]}),e.jsxs("div",{className:"bg-muted/50 rounded-xl p-6 mb-6",children:[e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:[n(a.pricePerDay)," × ",o," hari × ",l]}),e.jsx("span",{children:n(a.pricePerDay*o*l)})]}),h>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Add-ons"}),e.jsx("span",{children:n(h)})]})]}),e.jsxs("div",{className:"border-t border-border pt-4 flex justify-between",children:[e.jsx("span",{className:"font-semibold",children:"Total"}),e.jsx("span",{className:"text-2xl font-bold text-accent",children:n(E)})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(r,{variant:"accent",size:"lg",className:"flex-1",onClick:$,disabled:!a.available,children:"Sewa Sekarang"}),e.jsx(r,{variant:"outline",size:"lg",onClick:R,disabled:!a.available,children:e.jsx(V,{className:"w-5 h-5"})}),e.jsx(r,{variant:"outline",size:"lg",asChild:!0,children:e.jsx("a",{href:`https://wa.me/6281234567890?text=Halo, saya tertarik dengan ${a.name}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx(G,{className:"w-5 h-5"})})})]}),!a.available&&e.jsx("p",{className:"text-sm text-destructive mt-4",children:"* Produk sedang tidak tersedia"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 mt-12",children:[e.jsxs("div",{className:"bg-card rounded-xl border border-border p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-card-foreground mb-4",children:"Spesifikasi"}),e.jsx("dl",{className:"space-y-3",children:Object.entries(a.specifications).map(([s,t])=>e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-muted-foreground",children:s}),e.jsx("dd",{className:"font-medium text-card-foreground",children:t})]},s))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-card rounded-xl border border-border p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-card-foreground mb-4",children:"Isi Paket"}),e.jsx("ul",{className:"space-y-2",children:a.packageContents.map((s,t)=>e.jsxs("li",{className:"flex items-center gap-3 text-muted-foreground",children:[e.jsx(W,{className:"w-4 h-4 text-accent"}),s]},t))})]}),e.jsxs("div",{className:"bg-card rounded-xl border border-border p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-card-foreground mb-4",children:"Rekomendasi Penggunaan"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.recommendations.map((s,t)=>e.jsx(v,{variant:"secondary",children:s},t))})]})]})]})]})}),f.length>0&&e.jsx("section",{className:"py-12 bg-background",children:e.jsxs("div",{className:"container",children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Produk Serupa"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:f.map(s=>e.jsx(Y,{product:s},s.id))})]})})]})};export{Ce as default};
